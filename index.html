<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elderly Support League</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --primary-bg: #f8f9fc; --card-bg: #ffffff; --accent-blue: #00112c; --accent-green: #0abf53; }
        body { font-family: 'Inter', sans-serif; background-color: var(--primary-bg); color: #1a1f36; }
        
        .hero-section { background: var(--accent-blue); color: white; padding: 2.5rem 1rem 4rem 1rem; border-radius: 0 0 30px 30px; position: relative; }
        .hero-title { font-weight: 800; letter-spacing: -1px; margin: 0; }
        
        .nav-pills { background: white; padding: 0.5rem; border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.06); display: inline-flex; position: relative; top: -25px; margin-bottom: 0; }
        .nav-pills .nav-link { border-radius: 12px; color: #6c757d; font-weight: 600; padding: 10px 24px; transition: all 0.2s; }
        .nav-pills .nav-link.active { background-color: var(--accent-blue); color: white; }

        .custom-card { background: var(--card-bg); border-radius: 20px; border: none; box-shadow: 0 4px 20px rgba(0,0,0,0.03); padding: 1.5rem; margin-bottom: 1.5rem; }
        
        /* Leaderboard */
        .table-custom th { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; color: #8898aa; border: none; background: transparent; }
        .table-custom td { vertical-align: middle; padding: 1rem 0.5rem; font-weight: 500; border-bottom: 1px solid #f0f2f5; }
        .rank-circle { width: 30px; height: 30px; background: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; }
        .rank-1 { background: #FFD700; color: #fff; } .rank-2 { background: #C0C0C0; color: #fff; } .rank-3 { background: #CD7F32; color: #fff; }

        /* Matches */
        .match-card { border-left: 4px solid transparent; transition: transform 0.2s; }
        .match-card:hover { transform: translateX(5px); }
        .match-card.has-video { border-left-color: #ff0000; cursor: pointer; }

        /* Tournament Fixture Table */
        .fixture-input { width: 60px; text-align: center; font-weight: bold; border: 1px solid #dee2e6; border-radius: 8px; padding: 5px; }
        .fixture-row { display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #eee; }
        .team-label { width: 80px; font-weight: 600; }

        /* Player Tags */
        .player-tag { background: #f0f2f5; padding: 5px 12px; border-radius: 50px; font-size: 0.85rem; display: inline-flex; align-items: center; margin: 3px; }
        .player-tag i { margin-left: 6px; cursor: pointer; color: #dc3545; }
    </style>
</head>
<body>

    <div class="hero-section text-center">
        <h1 class="hero-title"><i class="fas fa-futbol me-2"></i>Elderly Support</h1>
        <div class="opacity-75 small mt-1">Amsterdam League</div>
        <a href="https://www.youtube.com/@elderlysupport" target="_blank" class="badge bg-white text-dark text-decoration-none mt-3 px-3 py-2 rounded-pill"><i class="fab fa-youtube text-danger me-2"></i>Highlights</a>
    </div>

    <div class="container pb-5">
        <div class="d-flex justify-content-center">
            <ul class="nav nav-pills" id="myTab" role="tablist">
                <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#leaderboard"><i class="fas fa-trophy me-2"></i>Table</button></li>
                <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#matches"><i class="fas fa-history me-2"></i>Matches</button></li>
                <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#admin"><i class="fas fa-plus-circle me-2"></i>Entry</button></li>
            </ul>
        </div>

        <div class="tab-content pt-4">
            
            <div class="tab-pane fade show active" id="leaderboard">
                <div class="custom-card">
                    <div class="table-responsive">
                        <table class="table table-custom table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>#</th> <th>Player</th> <th class="text-center">P</th> <th class="text-center">W</th> <th class="text-center">D</th> <th class="text-center">L</th> <th class="text-center">GD</th> <th class="text-center text-primary">Pts</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboard-body">
                                <tr><td colspan="8" class="text-center py-4 text-muted">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="matches">
                <div class="row" id="match-history-list"></div>
            </div>

            <div class="tab-pane fade" id="admin">
                <div class="custom-card">
                    <form id="addMatchForm">
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label class="small text-muted fw-bold">Date</label>
                                <input type="date" class="form-control" id="matchDate" required>
                            </div>
                            <div class="col-md-6">
                                <label class="small text-muted fw-bold">Location</label>
                                <input class="form-control" list="locationOptions" id="matchLocation" placeholder="Select or type..." required>
                                <datalist id="locationOptions">
                                    <option value="Sporthal ROC Europaboulevard">
                                    <option value="Sporthal Calvijn">
                                    <option value="Sportgebouw Bibian Mentel">
                                    <option value="Sporthallen Zuid">
                                    <option value="Vondelpark">
                                </datalist>
                            </div>
                            <div class="col-12">
                                <label class="small text-muted fw-bold">YouTube Link (Optional)</label>
                                <input type="url" class="form-control" id="matchYoutube" placeholder="https://...">
                            </div>
                        </div>

                        <div class="d-flex justify-content-center mb-4">
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="matchType" id="typeStandard" value="Standard" checked onchange="toggleMatchType()">
                                <label class="btn btn-outline-dark" for="typeStandard">Standard Match</label>
                                
                                <input type="radio" class="btn-check" name="matchType" id="typeTournament" value="Tournament" onchange="toggleMatchType()">
                                <label class="btn btn-outline-dark" for="typeTournament">Tournament (3 Teams)</label>
                            </div>
                        </div>

                        <div id="standardSection">
                            <div class="row g-3">
                                <div class="col-6">
                                    <div class="card bg-light border-0 p-3 h-100">
                                        <div class="d-flex justify-content-between mb-2"><span class="fw-bold text-primary">TEAM A</span></div>
                                        <input type="number" class="form-control mb-2 fs-4 text-center fw-bold" id="scoreA" placeholder="0">
                                        <input type="text" class="form-control form-control-sm mb-2" id="nameTeamA" placeholder="Team Name">
                                        <div class="input-group input-group-sm mb-2">
                                            <input type="text" class="form-control" list="playerList" id="inputPlayerA" placeholder="Add player...">
                                            <button class="btn btn-white border" type="button" onclick="addPlayerToTeam('A')">+</button>
                                        </div>
                                        <div id="listTeamA" class="d-flex flex-wrap"></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card bg-light border-0 p-3 h-100">
                                        <div class="d-flex justify-content-between mb-2"><span class="fw-bold text-danger">TEAM B</span></div>
                                        <input type="number" class="form-control mb-2 fs-4 text-center fw-bold" id="scoreB" placeholder="0">
                                        <input type="text" class="form-control form-control-sm mb-2" id="nameTeamB" placeholder="Team Name">
                                        <div class="input-group input-group-sm mb-2">
                                            <input type="text" class="form-control" list="playerList" id="inputPlayerB" placeholder="Add player...">
                                            <button class="btn btn-white border" type="button" onclick="addPlayerToTeam('B')">+</button>
                                        </div>
                                        <div id="listTeamB" class="d-flex flex-wrap"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tournamentSection" class="d-none">
                            <div class="alert alert-light border small text-center mb-3">
                                <i class="fas fa-info-circle"></i> Define 3 teams, then enter the scores for the 6 matches below.
                            </div>
                            
                            <div class="row g-2 mb-4">
                                <div class="col-md-4">
                                    <div class="card p-2 border-primary">
                                        <div class="fw-bold text-primary mb-1">TEAM A</div>
                                        <div class="input-group input-group-sm mb-1">
                                            <input type="text" class="form-control" list="playerList" id="inputPlayerTournA" placeholder="Add...">
                                            <button class="btn btn-light border" type="button" onclick="addPlayerToTeam('TournA')">+</button>
                                        </div>
                                        <div id="listTeamTournA" class="d-flex flex-wrap"></div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card p-2 border-danger">
                                        <div class="fw-bold text-danger mb-1">TEAM B</div>
                                        <div class="input-group input-group-sm mb-1">
                                            <input type="text" class="form-control" list="playerList" id="inputPlayerTournB" placeholder="Add...">
                                            <button class="btn btn-light border" type="button" onclick="addPlayerToTeam('TournB')">+</button>
                                        </div>
                                        <div id="listTeamTournB" class="d-flex flex-wrap"></div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card p-2 border-warning">
                                        <div class="fw-bold text-warning mb-1">TEAM C</div>
                                        <div class="input-group input-group-sm mb-1">
                                            <input type="text" class="form-control" list="playerList" id="inputPlayerTournC" placeholder="Add...">
                                            <button class="btn btn-light border" type="button" onclick="addPlayerToTeam('TournC')">+</button>
                                        </div>
                                        <div id="listTeamTournC" class="d-flex flex-wrap"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="card bg-light border-0 p-3">
                                <h6 class="fw-bold mb-3">Fixture Results (2 Rounds)</h6>
                                
                                <div class="fixture-row">
                                    <span class="team-label text-primary text-end">Team A</span>
                                    <input type="number" class="fixture-input" id="t_m1_a">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m1_b">
                                    <span class="team-label text-danger">Team B</span>
                                </div>
                                <div class="fixture-row">
                                    <span class="team-label text-primary text-end">Team A</span>
                                    <input type="number" class="fixture-input" id="t_m2_a">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m2_c">
                                    <span class="team-label text-warning">Team C</span>
                                </div>
                                <div class="fixture-row">
                                    <span class="team-label text-danger text-end">Team B</span>
                                    <input type="number" class="fixture-input" id="t_m3_b">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m3_c">
                                    <span class="team-label text-warning">Team C</span>
                                </div>
                                
                                <hr class="my-2">

                                <div class="fixture-row">
                                    <span class="team-label text-primary text-end">Team A</span>
                                    <input type="number" class="fixture-input" id="t_m4_a">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m4_b">
                                    <span class="team-label text-danger">Team B</span>
                                </div>
                                <div class="fixture-row">
                                    <span class="team-label text-primary text-end">Team A</span>
                                    <input type="number" class="fixture-input" id="t_m5_a">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m5_c">
                                    <span class="team-label text-warning">Team C</span>
                                </div>
                                <div class="fixture-row">
                                    <span class="team-label text-danger text-end">Team B</span>
                                    <input type="number" class="fixture-input" id="t_m6_b">
                                    <span class="text-muted mx-2">-</span>
                                    <input type="number" class="fixture-input" id="t_m6_c">
                                    <span class="team-label text-warning">Team C</span>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-dark w-100 mt-4 py-3 fw-bold shadow">
                            <i class="fas fa-save me-2"></i> SAVE MATCH
                        </button>
                    </form>

                    <datalist id="playerList"></datalist>
                </div>
            </div>
        </div>
        
        <footer class="text-center mt-5 mb-3 small text-muted">&copy; 2026 Elderly Support League</footer>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>